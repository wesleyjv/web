<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Shooter</title>

    <!-- CSS: Styles for the page and elements -->
    <style>
        /* Style for the body of the page */
        body {
            margin: 0; /* Removes default margin from the page */
            overflow: hidden; /* Prevents scrolling */
            background-color: black; /* Sets the background color of the page to black */
        }
        
        /* Style for the canvas where the game will be rendered */
        canvas {
            background-color: lightblue; /* Light blue background for the canvas */
            display: block; /* Makes the canvas a block element */
            margin: 0 auto; /* Centers the canvas horizontally */
            border: 2px solid white; /* White border around the canvas */
        }

        /* Style for the player (airplane image) */
        img.player {
            position: absolute; /* Absolute positioning for moving elements */
            width: 70px; /* Width of the airplane */
            height: 70px; /* Height of the airplane */
        }

        /* Style for the bullets */
        img.bullet {
            position: absolute; /* Absolute positioning so the bullets can move */
        }

        /* Style for the targets */
        span.target {
            position: absolute; /* Absolute positioning so targets appear at random places */
            color: red; /* Color of the target is red */
            font-size: 24px; /* Size of the target (an "X") */
        }
    </style>
</head>
<body>
    <!-- HTML: Structure of the page -->
    
    <!-- Canvas element where the game will be rendered -->
    <canvas id="gameCanvas"></canvas>

    <!-- JavaScript: Behavior and logic of the game -->
    <script>
        // Select the canvas element
        const gameCanvas = document.getElementById('gameCanvas');


        score = 0;

        // Set the width and height of the canvas to the size of the window
        const canvasWidth = window.innerWidth;
        const canvasHeight = window.innerHeight;
        gameCanvas.width = canvasWidth;
        gameCanvas.height = canvasHeight;

        // Create the player element (airplane)
        const player = document.createElement('img');
        player.src = 'vliegtuigje.png'; // Ensure the image 'vliegtuigje.png' is in the correct folder or replace this with a URL
        player.classList.add('player'); // Add the CSS class 'player' to the element
        document.body.appendChild(player); // Add the player to the body of the page

        // Initial position of the player
        let playerX = canvasWidth / 2;
        let playerY = canvasHeight - 50;
        player.style.left = playerX + 'px'; // Set the horizontal position of the player
        player.style.top = playerY + 'px'; // Set the vertical position of the player

        // Listen for arrow keys to move the player
        document.addEventListener('keypress', (event) => {
            const step = 20; // The distance the player moves per key press
            if (event.key === 'ArrowLeft' || event.key === 'a') {
                // Move the player to the left
                playerX = Math.max(0, playerX - step);
            } else if (event.key === 'ArrowRight' || event.key === 'd') {
                // Move the player to the right
                playerX = Math.min(canvasWidth - 50, playerX + step);
            }
            player.style.left = playerX + 'px'; // Apply the new position
        });

        // Listen for the spacebar to shoot
        document.addEventListener('keydown', (event) => {
            if (event.key === ' ' || event.key === 'w') {
                shootBullet(); // Fire a bullet when the spacebar is pressed
            }
        });

        // Function to fire a bullet
        function shootBullet() {
            const bullet = document.createElement('img'); // Create a new bullet element
            bullet.src = 'kogel.png'; // Image for the bullet
            bullet.classList.add('bullet'); // Add the CSS class 'bullet'
            bullet.style.width = '30px'; // Width of the bullet
            bullet.style.height = '50px'; // Height of the bullet
            bullet.style.left = playerX + 15 + 'px'; // Ensure the bullet comes from the center of the airplane
            bullet.style.top = playerY - 20 + 'px'; // Initial position of the bullet
            document.body.appendChild(bullet); // Add the bullet to the body of the page

            // Make the bullet move upwards
            let bulletInterval = setInterval(() => {
                let bulletY = parseInt(bullet.style.top); // Get the current position of the bullet
                if (bulletY <= 0) {
                    bullet.remove(); // Remove the bullet when it reaches the top of the screen
                    clearInterval(bulletInterval); // Stop the bullet's movement
                } else {
                    bullet.style.top = bulletY - 10 + 'px'; // Move the bullet upwards
                    checkCollision(bullet); // Check if the bullet hits a target
                }
            }, 50);
        }

        // Function to create a new target
        function createTarget() {
            const target = document.createElement('span'); // Create a new target element
            target.classList.add('target'); // Add the CSS class 'target'
            target.innerHTML = 'X'; // Set the content of the target to 'X'
            target.style.left = Math.random() * (canvasWidth - 50) + 'px'; // Random horizontal position
            target.style.top = Math.random() * 200 + 'px'; // Random vertical position
            document.body.appendChild(target); // Add the target to the body of the page
        }

        // Function to check if a bullet hits a target
        function checkCollision(bullet) {
            const targets = document.querySelectorAll('.target'); // Get all targets
            targets.forEach(target => {
                const bulletRect = bullet.getBoundingClientRect(); // Get the dimensions of the bullet
                const targetRect = target.getBoundingClientRect(); // Get the dimensions of the target

                // Check if the bullet hits the target
                if (
                    bulletRect.left < targetRect.right &&
                    bulletRect.right > targetRect.left &&
                    bulletRect.top < targetRect.bottom &&
                    bulletRect.bottom > targetRect.top
                ) {
                    target.remove(); // Remove the target if it's hit
                    bullet.remove(); // Remove the bullet when it hits the target
                    createTarget(); // Create a new target after a collision
                }
            });
        }

        // Create the first target
        createTarget();

        // Create a new target every 5 seconds
        setInterval(createTarget, 5000);
    </script>
</body>
</html>
